// Mobile menu toggle
const menuToggle = document.getElementById('menu-toggle');
const mobileMenu = document.getElementById('mobile-menu');

menuToggle.addEventListener('click', () => {
  mobileMenu.classList.toggle('show');
  document.body.classList.toggle('menu-open');
});

// Dynamic player count animation
function animatePlayerCounts() {
  const playerCountElements = document.querySelectorAll('.players-count');
  
  playerCountElements.forEach(element => {
    const min = parseInt(element.dataset.min);
    const max = parseInt(element.dataset.max);
    let current = parseInt(element.dataset.current);
    const numberElement = element.querySelector('.player-number');
    
    // Update the count every 2-5 seconds
    const updateInterval = Math.random() * 3000 + 2000;
    
    const updateCount = () => {
      // Determine if we should increase or decrease (70% chance to increase)
      const shouldIncrease = Math.random() < 0.7;
      let changeAmount;
      
      // Small change (1-5) is more likely than big change (5-10)
      if (Math.random() < 0.7) {
        changeAmount = Math.floor(Math.random() * 5) + 1;
      } else {
        changeAmount = Math.floor(Math.random() * 6) + 5;
      }
      
      // Apply the change
      if (shouldIncrease) {
        current = Math.min(max, current + changeAmount);
      } else {
        current = Math.max(min, current - changeAmount);
      }
      
      // Animate the number change
      animateValue(numberElement, parseInt(numberElement.textContent), current, 500);
      
      // Update the data attribute
      element.dataset.current = current;
      
      // Schedule next update
      setTimeout(updateCount, updateInterval);
    };
    
    // Start the updates
    setTimeout(updateCount, updateInterval);
  });
}

// Helper function to animate number changes
function animateValue(element, start, end, duration) {
  let startTimestamp = null;
  const step = (timestamp) => {
    if (!startTimestamp) startTimestamp = timestamp;
    const progress = Math.min((timestamp - startTimestamp) / duration, 1);
    element.textContent = Math.floor(progress * (end - start) + start);
    if (progress < 1) {
      window.requestAnimationFrame(step);
    }
  };
  window.requestAnimationFrame(step);
}

// Password visibility toggle
document.querySelectorAll('.toggle-password').forEach(toggle => {
  toggle.addEventListener('click', function() {
    const input = this.parentElement.querySelector('input');
    const type = input.getAttribute('type') === 'password' ? 'text' : 'password';
    input.setAttribute('type', type);
    this.classList.toggle('fa-eye-slash');
  });
});

// Initialize when DOM is loaded
document.addEventListener('DOMContentLoaded', () => {
  animatePlayerCounts();
  
  // Close mobile menu when clicking on a link
  const navLinks = document.querySelectorAll('.nav a');
  navLinks.forEach(link => {
    link.addEventListener('click', () => {
      mobileMenu.classList.remove('show');
      document.body.classList.remove('menu-open');
    });
  });
});





