// Password visibility toggle function
function togglePasswordVisibility(inputId, icon) {
  const input = document.getElementById(inputId);
  if (input.type === "password") {
    input.type = "text";
    icon.classList.remove("fa-eye");
    icon.classList.add("fa-eye-slash");
  } else {
    input.type = "password";
    icon.classList.remove("fa-eye-slash");
    icon.classList.add("fa-eye");
  }
}

// Mobile menu functionality
document.addEventListener('DOMContentLoaded', function() {
  const menuToggle = document.getElementById('menu-toggle');
  const nav = document.querySelector('.nav ul');
  const body = document.body;

  // Toggle mobile menu
  if (menuToggle) {
    menuToggle.addEventListener('click', function(e) {
      e.stopPropagation(); 
      nav.classList.toggle('show');
      body.classList.toggle('menu-open');
    });
  }

  // Close mobile menu when clicking on a link
  const navLinks = document.querySelectorAll('.nav a');
  navLinks.forEach(link => {
    link.addEventListener('click', function() {
      if (window.innerWidth <= 992) {
        nav.classList.remove('show');
        body.classList.remove('menu-open');
      }
    });
  });

  // Close mobile menu when clicking outside
  document.addEventListener('click', function(e) {
    if (!e.target.closest('.nav') && !e.target.closest('.menu-toggle')) {
      nav.classList.remove('show');
      body.classList.remove('menu-open');
    }
  });

  // Make sure password fields are clickable
  const passwordInputs = document.querySelectorAll('input[type="password"]');
  passwordInputs.forEach(input => {
    input.style.pointerEvents = 'auto';
  });

  // === NEW FEATURE: Dynamic live player count ===
  function updatePlayerCounts() {
    document.querySelectorAll('.players-count').forEach(el => {
      const base = parseInt(el.getAttribute('data-base'), 10);
      const variation = Math.floor(Math.random() * 50) - 25; // Between -25 and +25
      let newCount = base + variation;
      if (newCount < 0) newCount = 0;
      el.querySelector('.player-number').textContent = newCount.toLocaleString();
    });
  }

  function loopPlayerUpdate() {
    updatePlayerCounts();
    const delay = Math.random() * 3000 + 3000; // 3 to 6 seconds
    setTimeout(loopPlayerUpdate, delay);
  }

  loopPlayerUpdate();
});





